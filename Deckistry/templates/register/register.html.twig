{% extends 'base.html.twig' %}

{% block title %}Inscription{% endblock %}

{% block body %}
<section class="login-page">
  <div class="form-box">
    <h1>Inscription</h1>

    {% for message in app.flashes('success') %}
      <div class="mb-3">{{ message }}</div>
    {% endfor %}

    {{ form_start(form, { 
        attr: { 
            id: 'registration-form',
            'data-check-pseudo-url': path('check_pseudo'),
            'data-check-email-url': path('check_email')
        } 
    }) }}

    <div class="form-group">
      {{ form_label(form.username) }}
      {{ form_widget(form.username) }}
      {{ form_errors(form.username) }}
    </div>

    <div class="form-group">
      {{ form_label(form.nom) }}
      {{ form_widget(form.nom) }}
      {{ form_errors(form.nom) }}
    </div>

    <div class="form-group">
      {{ form_label(form.prenom) }}
      {{ form_widget(form.prenom) }}
      {{ form_errors(form.prenom) }}
    </div>

    <div class="form-group">
      {{ form_label(form.email) }}
      {{ form_widget(form.email) }}
      {{ form_errors(form.email) }}
    </div>

    <div class="form-group">
      {{ form_label(form.plainPassword.first) }}
      {{ form_widget(form.plainPassword.first) }}
      {{ form_errors(form.plainPassword.first) }}
      <div class="password-strength" style="display: none;"></div>
      <div class="strength-meter" style="display: none;"></div>
    </div>

    <div class="form-group">
      {{ form_label(form.plainPassword.second) }}
      {{ form_widget(form.plainPassword.second) }}
      {{ form_errors(form.plainPassword.second) }}
    </div>

    <div class="form-group">
      <button type="submit" class="btn" id="register-btn" disabled>Sâ€™inscrire</button>
    </div>

    {{ form_end(form) }}
  </div>
</section>
{% endblock %}

{% block importmap %}
    {{ parent() }}
    {{ importmap('register') }}
{% endblock %}

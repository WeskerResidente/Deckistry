// =============================================================================
// SIDEBAR
// =============================================================================

.page-sidebar {
  position: fixed;
  top: 70px; // Height of header
  left: 0;
  width: 280px;
  height: calc(100vh - 70px);
  background-color: $white;
  border-right: 1px solid $border-color;
  overflow-y: auto;
  @include custom-scrollbar;
  z-index: $zindex-sticky;
  padding: spacing(6) 0;
  transition: transform $transition-base;
  
  @include respond-below(lg) {
    transform: translateX(-100%);
    box-shadow: $shadow-xl;
    
    &.show {
      transform: translateX(0);
    }
  }
}

.sidebar-section {
  margin-bottom: spacing(6);
  padding: 0 spacing(5);
  
  &:last-child {
    margin-bottom: 0;
  }
}

.sidebar-title {
  font-size: $font-size-sm;
  font-weight: $font-weight-bold;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: $text-muted;
  margin-bottom: spacing(3);
}

.sidebar-menu {
  list-style: none;
  padding: 0;
  margin: 0;
}

.sidebar-menu-item {
  margin-bottom: spacing(1);
}

.sidebar-menu-link {
  display: flex;
  align-items: center;
  padding: spacing(3) spacing(4);
  color: $text-secondary;
  text-decoration: none;
  border-radius: $border-radius;
  transition: $transition-base;
  font-weight: $font-weight-medium;
  
  .menu-icon {
    margin-right: spacing(3);
    font-size: $font-size-lg;
    width: 1.5rem;
    text-align: center;
  }
  
  .menu-badge {
    margin-left: auto;
  }
  
  &:hover {
    background-color: $gray-100;
    color: $text-primary;
  }
  
  &.active {
    background-color: lighten($accent, 45%);
    color: $accent;
    font-weight: $font-weight-bold;
  }
}

// Sidebar filters (for collection/search pages)
.sidebar-filter {
  margin-bottom: spacing(5);
  
  .filter-title {
    font-size: $font-size-sm;
    font-weight: $font-weight-bold;
    margin-bottom: spacing(3);
    color: $text-primary;
  }
  
  .filter-options {
    display: flex;
    flex-direction: column;
    gap: spacing(2);
  }
}

// Color filter (MTG specific)
.color-filter {
  display: flex;
  flex-wrap: wrap;
  gap: spacing(2);
  
  .color-option {
    input[type="checkbox"] {
      display: none;
      
      &:checked + label {
        border-width: 3px;
        transform: scale(1.1);
      }
    }
    
    label {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 2.5rem;
      height: 2.5rem;
      border-radius: 50%;
      border: 2px solid transparent;
      cursor: pointer;
      transition: $transition-base;
      font-weight: $font-weight-bold;
      font-size: $font-size-sm;
      
      &:hover {
        transform: scale(1.05);
      }
    }
    
    &.white label {
      background-color: $mtg-white;
      color: $text-primary;
      border-color: darken($mtg-white, 10%);
    }
    
    &.blue label {
      background-color: $mtg-blue;
      color: $white;
    }
    
    &.black label {
      background-color: $mtg-black;
      color: $white;
    }
    
    &.red label {
      background-color: $mtg-red;
      color: $white;
    }
    
    &.green label {
      background-color: $mtg-green;
      color: $white;
    }
  }
}

// Rarity filter
.rarity-filter {
  .form-check {
    margin-bottom: spacing(2);
    
    .rarity-indicator {
      display: inline-block;
      width: 0.75rem;
      height: 0.75rem;
      border-radius: 50%;
      margin-right: spacing(2);
      
      &.common {
        background-color: $rarity-common;
      }
      
      &.uncommon {
        background-color: $rarity-uncommon;
      }
      
      &.rare {
        background-color: $rarity-rare;
      }
      
      &.mythic {
        background-color: $rarity-mythic;
      }
    }
  }
}

// Sidebar toggle button (mobile)
.sidebar-toggle {
  position: fixed;
  top: 80px;
  left: spacing(4);
  z-index: $zindex-sticky + 1;
  display: none;
  width: 3rem;
  height: 3rem;
  @include flex-center;
  background-color: $accent;
  color: $white;
  border: none;
  border-radius: 50%;
  box-shadow: $shadow-lg;
  cursor: pointer;
  transition: $transition-base;
  
  @include respond-below(lg) {
    display: flex;
  }
  
  &:hover {
    transform: scale(1.1);
  }
}

// Sidebar overlay (mobile)
.sidebar-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba($black, 0.5);
  z-index: $zindex-sticky - 1;
  display: none;
  
  &.show {
    display: block;
  }
}
